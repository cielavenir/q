<!DOCTYPE html>
<html>
<head>
<meta charset='utf-8'>
<title>のんびり座りたい strikes back 2017.11.22 問題</title>
<style>
  body, textarea {
      font-family: sans-serif;
      font-size:11pt;
  }
  textarea {
    font-size:7pt;
    width:80%;
    height:7em;
  }
  img.large{
    width:400px;
  }
  
  td.center{ text-align:center; }
  
  tr:nth-child(even) { background-color: #fafafa }
  tr:nth-child(odd) { background-color: #f0f0f0 }
  code {
    background-color: #d8d8d8;
    font-family:monospace;
    padding:2pt 2pt 2pt 2pt ;
    border-radius:4px;
    margin:1pt 1pt 1pt 1pt;
  }
  h1{
    border-top : solid 2px #bbb;
    border-left : solid 16px #bbb;
    background-color: #f8f8f8;
  }
  h2{
    border-top : solid 2px #bbb;
    border-left : solid 8px #bbb;
    background-color: #f8f8f8;
  }
  h3{
    background-color: #f8f8f8;
  }
  h4{
    background-color: #f8f8f8;
  }
  code.src, code.expected{
    word-break: break-all;
    font-family:"Ricty","Courier New";
    padding:1pt 1pt 1pt 1pt;
  }
  img.sample{
  width:150px;
  height:150px;
  }
  img.top{
  width:320px;
  }
  .weight{
    font-family:"Georgia";
    padding-left:8px;
    padding-right:8px;
  }
  table.float_right
  {
    float: right;
  }
  table.float_right td{
    background-color:white;
    text-align:center;
  }
  .narrow{
    font-family:"Ricty","Courier New";
    font-size:9pt;
  }
  float_right{
   float:right;
  }
  div.svg{
   float:right;
   background-color:white;
  }
  td.bigcell{
    width:25mm;
    height:25mm;
    font-size:18mm;
    border:solid black 0.5mm
  }
  table.big td{
    font-size:9mm;
    border:solid black 0.5mm
  }
  div.top img{
    width:80px;
  }
  table.big img{
    width:120px;
    height:120px;
   }
   td.sample{
   }
  table.nabenum tr td
  {
    background-color:#444;
    padding:0 0 0 0;
    margin:0 0 0 0;
  }
  table.nabenum
  {
    padding:1mm 2mm 1mm 2mm;
    background-color:#444;
  }
  table.nabenum .c0{
    width:4px;
  }
  table.nabenum .c1{
    width:15px;
  }
  table.nabenum .c2{
    width:4px;
  }
  table.nabenum tr.n0 td{
    height:4px;
  }
  table.nabenum tr.n1 td{
    height:15px;
  }
  table.nabenum tr.n2 td{
    height:4px;
  }
  table.nabenum tr.n3 td{
    height:15px;
  }
  table.nabenum tr.n4 td{
    height:4px;
  }
  table.nabenum td.off{
    background-color:black;
  }
  table.nabenum td.on{
    background-color:white;
  }
  table.nabenum td.nazo{
    background-color:#f00;
  }
  div.nabe{
    float:right;
    width:200px;
    background-color:#eee;
    text-align:center;
  }
  .nabe_c{
    text-align:center;
    }
  div.main_fig{
   float:right;
   background-color:white;
  }
  table.cells{
    margin:10pt 10pt 10pt 10pt;
  }
  table.cells tr td{
    border:solid #888 1px;
    background-color:white;
    width:20pt;
    height:20pt;
    text-align:center;
    font-size:18pt;
  }
  table.scell tr td{
    border:solid #888 1px;
    width:10pt;
    height:10pt;
    text-align:center;
    font-size:9pt;
  }
  table.scell tr td.vis{
    background-color:#fcc;
  }
  table.scell tr td.not_vis{
    background-color:white;
  }
</style>
</head>
<body>
<div class='main_fig'>
<svg height='300px' width='300px'>
<g font-family='Georgia' font-size='30' text-anchor='middle'>
<circle cx='149.99999999999997' cy='45.0' fill='yellow' r='27.0'></circle>
<text fill='#000' font-size='30px' x='149.99999999999997' y='54.0'>1</text>
<circle cx='217.49269901708664' cy='69.56533347250729' fill='yellow' r='27.0'></circle>
<text fill='#000' font-size='30px' x='217.49269901708664' y='78.56533347250729'>3</text>
<circle cx='253.40481406628186' cy='131.7669413449723' fill='yellow' r='27.0'></circle>
<text fill='#000' font-size='30px' x='253.40481406628186' y='140.7669413449723'>5</text>
<circle cx='240.93266739736612' cy='202.49999999999991' fill='yellow' r='27.0'></circle>
<text fill='#000' font-size='30px' x='240.93266739736612' y='211.49999999999991'>7</text>
<circle cx='185.91211504919522' cy='248.66772518252037' fill='yellow' r='27.0'></circle>
<text fill='#000' font-size='30px' x='185.91211504919522' y='257.66772518252037'>9</text>
<circle cx='114.08788495080486' cy='248.66772518252043' fill='yellow' r='27.0'></circle>
<text fill='#000' font-size='30px' x='114.08788495080486' y='257.6677251825204'>8</text>
<circle cx='59.067332602633925' cy='202.49999999999997' fill='yellow' r='27.0'></circle>
<text fill='#000' font-size='30px' x='59.067332602633925' y='211.49999999999997'>6</text>
<circle cx='46.59518593371814' cy='131.76694134497237' fill='yellow' r='27.0'></circle>
<text fill='#000' font-size='30px' x='46.59518593371814' y='140.76694134497237'>4</text>
<circle cx='82.50730098291326' cy='69.5653334725074' fill='yellow' r='27.0'></circle>
<text fill='#000' font-size='30px' x='82.50730098291326' y='78.5653334725074'>2</text>
</g>
</svg>
</div>
<h1>のんびり座りたい strikes back 2017.11.22 問題</h1>
<h2>問題の概要</h2>
<p>
丸く並んだ椅子がある。椅子には、右図のように番号が振られている。
<br>
最初は誰も座っていない。
<br>
そこにひとりずつ人が現れ、あるいは立ち去る。
<br>
人が座る席は以下のルールで決まる:
</p>
<ol>
<li>どちら側の隣にも人が座っていない席を選ぶ。</li>
<li>それが無理なら、片側にしか人が座っていない席を選ぶ。</li>
<li>それも無理なら、両側に人が座っている席を選ぶ。</li>
<li>上記の条件で一つに決まらない場合は、候補のうちもっとも小さい番号の席に座る人と、最も大きい番号の席に座る人がいる。</li>
</ol>
<p>
一度座ったら立ち去るまでその場を動かない。
<br>
指定された順序で人が来たり立ち去ったりした結果、それぞれの椅子に誰が座っているのかを出力せよ。
</p>
<h2>入力</h2>
<p>
入力は
<br>
<code>NABETanI</code>
<br>
こんな感じ。区切り文字なしで人の出入りを示す文字が並んでいる。
<br>
A〜Z は、それぞれの人の到着を意味し、a〜z は、対応する大文字の人が立ち去ったことを意味する。
<br>
A〜M は、小さい番号の席を好む人。N〜Z は大きい番号の席を好む人。
</p>
<h2>出力</h2>
<p>
出力は、席に座っている人を 1 から順に時計回りで並べる。誰も座っていない席は
<code>-</code>
で示す。
</p>
<p>
先ほどの入力の場合、
</p>
<table>
<tr>
<th>記号</th>
<th>説明</th>
<th>席の状態</th>
</tr>
<tr>
<td>N</td>
<td>N が現れた</td>
<td>
<code>----N----</code>
</td>
</tr>
<tr>
<td>A</td>
<td>A が現れた</td>
<td>
<code>A---N----</code>
</td>
</tr>
<tr>
<td>B</td>
<td>B が現れた</td>
<td>
<code>A---N--B-</code>
</td>
</tr>
<tr>
<td>E</td>
<td>E が現れた</td>
<td>
<code>A-E-N--B-</code>
</td>
</tr>
<tr>
<td>T</td>
<td>T が現れた</td>
<td>
<code>A-E-NT-B-</code>
</td>
</tr>
<tr>
<td>a</td>
<td>A が立ち去った</td>
<td>
<code>--E-NT-B-</code>
</td>
</tr>
<tr>
<td>n</td>
<td>N が立ち去った</td>
<td>
<code>--E--T-B-</code>
</td>
</tr>
<tr>
<td>I</td>
<td>I が現れた</td>
<td>
<code>I-E--T-B-</code>
</td>
</tr>
</table>
<p>
<br>
なので、
<br>
<code>I-E--T-B-</code>
<br>
と出力すればよい。
</p>
<h2>補足</h2>
<ul>
<li>不正な入力に対処する必要はない。</li>
<li>満席になってもまだ人が来るとかいう状況を考慮する必要はない。</li>
<li>
実装ができた方は
<a href='https://qiita.com/Nabetani/items/de5b9d3230603033ed74'>Qiitaの記事</a>
のコメント欄からリンクを張っていただくと見つけやすくて助かります。
</li>
<li>
入力も出力も文字列ないしは標準入出力にするのが望ましい。パースも仕事のうち。
</li>
<li>
この問題は2017年11月22日に開催される オフラインリアルタイムどう書くF08 の問題です。イベントについては
<a href='https://yhpg.doorkeeper.jp/events/66941'>Doorkeeper のページ</a>
の方を御覧下さい。
</li>
</ul>
<h2>サンプルデータ</h2>
<table class='sample'>
<tr>
<th>#</th>
<th>入力</th>
<th>期待</th>
</tr>
<tr>
<td>0</td>
<td class='sample'>
<code class='src'>NABETanI</code>
</td>
<td>
<code class='expected'>I-E--T-B-</code>
</td>
</tr>
<tr>
<td>1</td>
<td class='sample'>
<code class='src'>A</code>
</td>
<td>
<code class='expected'>A--------</code>
</td>
</tr>
<tr>
<td>2</td>
<td class='sample'>
<code class='src'>Aa</code>
</td>
<td>
<code class='expected'>---------</code>
</td>
</tr>
<tr>
<td>3</td>
<td class='sample'>
<code class='src'>Z</code>
</td>
<td>
<code class='expected'>----Z----</code>
</td>
</tr>
<tr>
<td>4</td>
<td class='sample'>
<code class='src'>Zz</code>
</td>
<td>
<code class='expected'>---------</code>
</td>
</tr>
<tr>
<td>5</td>
<td class='sample'>
<code class='src'>AaB</code>
</td>
<td>
<code class='expected'>B--------</code>
</td>
</tr>
<tr>
<td>6</td>
<td class='sample'>
<code class='src'>ABa</code>
</td>
<td>
<code class='expected'>-------B-</code>
</td>
</tr>
<tr>
<td>7</td>
<td class='sample'>
<code class='src'>ABCDEFGHI</code>
</td>
<td>
<code class='expected'>AGCEIDHBF</code>
</td>
</tr>
<tr>
<td>8</td>
<td class='sample'>
<code class='src'>OPQRSTUVW</code>
</td>
<td>
<code class='expected'>WSQUOTPVR</code>
</td>
</tr>
<tr>
<td>9</td>
<td class='sample'>
<code class='src'>F</code>
</td>
<td>
<code class='expected'>F--------</code>
</td>
</tr>
<tr>
<td>10</td>
<td class='sample'>
<code class='src'>L</code>
</td>
<td>
<code class='expected'>L--------</code>
</td>
</tr>
<tr>
<td>11</td>
<td class='sample'>
<code class='src'>Mm</code>
</td>
<td>
<code class='expected'>---------</code>
</td>
</tr>
<tr>
<td>12</td>
<td class='sample'>
<code class='src'>JQ</code>
</td>
<td>
<code class='expected'>J---Q----</code>
</td>
</tr>
<tr>
<td>13</td>
<td class='sample'>
<code class='src'>ACP</code>
</td>
<td>
<code class='expected'>A---P--C-</code>
</td>
</tr>
<tr>
<td>14</td>
<td class='sample'>
<code class='src'>GgS</code>
</td>
<td>
<code class='expected'>----S----</code>
</td>
</tr>
<tr>
<td>15</td>
<td class='sample'>
<code class='src'>USLE</code>
</td>
<td>
<code class='expected'>L-E-U-S--</code>
</td>
</tr>
<tr>
<td>16</td>
<td class='sample'>
<code class='src'>XJZY</code>
</td>
<td>
<code class='expected'>J-Y-X-Z--</code>
</td>
</tr>
<tr>
<td>17</td>
<td class='sample'>
<code class='src'>NnJXx</code>
</td>
<td>
<code class='expected'>J--------</code>
</td>
</tr>
<tr>
<td>18</td>
<td class='sample'>
<code class='src'>AJjQa</code>
</td>
<td>
<code class='expected'>----Q----</code>
</td>
</tr>
<tr>
<td>19</td>
<td class='sample'>
<code class='src'>HGThgQ</code>
</td>
<td>
<code class='expected'>----T-Q--</code>
</td>
</tr>
<tr>
<td>20</td>
<td class='sample'>
<code class='src'>NJRErI</code>
</td>
<td>
<code class='expected'>J-E-N--I-</code>
</td>
</tr>
<tr>
<td>21</td>
<td class='sample'>
<code class='src'>ZzWwDYG</code>
</td>
<td>
<code class='expected'>D---Y--G-</code>
</td>
</tr>
<tr>
<td>22</td>
<td class='sample'>
<code class='src'>ZGgKQHM</code>
</td>
<td>
<code class='expected'>K-H-Z-Q-M</code>
</td>
</tr>
<tr>
<td>23</td>
<td class='sample'>
<code class='src'>OZYSAsHP</code>
</td>
<td>
<code class='expected'>A-Y-OPZ-H</code>
</td>
</tr>
<tr>
<td>24</td>
<td class='sample'>
<code class='src'>VNnEISAW</code>
</td>
<td>
<code class='expected'>E-S-VWAI-</code>
</td>
</tr>
<tr>
<td>25</td>
<td class='sample'>
<code class='src'>HhYAKkCOE</code>
</td>
<td>
<code class='expected'>A-O-Y-EC-</code>
</td>
</tr>
<tr>
<td>26</td>
<td class='sample'>
<code class='src'>KAkHJTSWV</code>
</td>
<td>
<code class='expected'>H-JWTSVA-</code>
</td>
</tr>
<tr>
<td>27</td>
<td class='sample'>
<code class='src'>WNTYKHZhMQ</code>
</td>
<td>
<code class='expected'>KMTQWZN-Y</code>
</td>
</tr>
<tr>
<td>28</td>
<td class='sample'>
<code class='src'>YyJHFGfgTh</code>
</td>
<td>
<code class='expected'>J---T----</code>
</td>
</tr>
<tr>
<td>29</td>
<td class='sample'>
<code class='src'>NRWPLBZAOpC</code>
</td>
<td>
<code class='expected'>LBWONZRAC</code>
</td>
</tr>
<tr>
<td>30</td>
<td class='sample'>
<code class='src'>IORiTMXHUCF</code>
</td>
<td>
<code class='expected'>MCTFOURXH</code>
</td>
</tr>
<tr>
<td>31</td>
<td class='sample'>
<code class='src'>AEeHGBEJUNZn</code>
</td>
<td>
<code class='expected'>AZGEUB-HJ</code>
</td>
</tr>
<tr>
<td>32</td>
<td class='sample'>
<code class='src'>GgKGSOsZTLYS</code>
</td>
<td>
<code class='expected'>K-OYZTSGL</code>
</td>
</tr>
<tr>
<td>33</td>
<td class='sample'>
<code class='src'>VZvPOpWPMzHGF</code>
</td>
<td>
<code class='expected'>MGO-W-HFP</code>
</td>
</tr>
<tr>
<td>34</td>
<td class='sample'>
<code class='src'>CMmcUuLTWADFQ</code>
</td>
<td>
<code class='expected'>LFA-TQW-D</code>
</td>
</tr>
<tr>
<td>35</td>
<td class='sample'>
<code class='src'>HUGZMLzlNgTLDd</code>
</td>
<td>
<code class='expected'>H-N-U-MTL</code>
</td>
</tr>
<tr>
<td>36</td>
<td class='sample'>
<code class='src'>CFKEkHeJShUDTf</code>
</td>
<td>
<code class='expected'>C-UTSJ--D</code>
</td>
</tr>
<tr>
<td>37</td>
<td class='sample'>
<code class='src'>QJjGPMAICHKqWcY</code>
</td>
<td>
<code class='expected'>GIMHWKPYA</code>
</td>
</tr>
<tr>
<td>38</td>
<td class='sample'>
<code class='src'>HhIiQCIBiUMZcVv</code>
</td>
<td>
<code class='expected'>--B-QZU-M</code>
</td>
</tr>
<tr>
<td>39</td>
<td class='sample'>
<code class='src'>VMvEmFOPANIBUiVb</code>
</td>
<td>
<code class='expected'>F-PUONAEV</code>
</td>
</tr>
<tr>
<td>40</td>
<td class='sample'>
<code class='src'>EDCJUINdLPVnFpGe</code>
</td>
<td>
<code class='expected'>-VCFUJGLI</code>
</td>
</tr>
<tr>
<td>41</td>
<td class='sample'>
<code class='src'>FGQINTEnLMAlBbPpV</code>
</td>
<td>
<code class='expected'>FMITQAVGE</code>
</td>
</tr>
<tr>
<td>42</td>
<td class='sample'>
<code class='src'>WSVCORUMXsvNBuTtT</code>
</td>
<td>
<code class='expected'>CXBTWRNOM</code>
</td>
</tr>
<tr>
<td>43</td>
<td class='sample'>
<code class='src'>HJTjRVIQAXqDGxCtUh</code>
</td>
<td>
<code class='expected'>-AVCUGRDI</code>
</td>
</tr>
<tr>
<td>44</td>
<td class='sample'>
<code class='src'>ZzHXIEKQYUuBTxLlCq</code>
</td>
<td>
<code class='expected'>HTEYC-KIB</code>
</td>
</tr>
<tr>
<td>45</td>
<td class='sample'>
<code class='src'>RGDCAEBVrgFbTJUePjc</code>
</td>
<td>
<code class='expected'>-T-FUVADP</code>
</td>
</tr>
<tr>
<td>46</td>
<td class='sample'>
<code class='src'>WBIRSALCVvsbwalYBJP</code>
</td>
<td>
<code class='expected'>B-R-YPCIJ</code>
</td>
</tr>
<tr>
<td>47</td>
<td class='sample'>
<code class='src'>HKFZGEPAIphLRarAOaHo</code>
</td>
<td>
<code class='expected'>LHFIZ-GKE</code>
</td>
</tr>
<tr>
<td>48</td>
<td class='sample'>
<code class='src'>WFNwBfbSAXCZzMDJUcKx</code>
</td>
<td>
<code class='expected'>AM-JSUNDK</code>
</td>
</tr>
</table>
<h2>C/C++/Java 用のテストデータ</h2>
<textarea>/*0*/ test( "NABETanI", "I-E--T-B-" );
/*1*/ test( "A", "A--------" );
/*2*/ test( "Aa", "---------" );
/*3*/ test( "Z", "----Z----" );
/*4*/ test( "Zz", "---------" );
/*5*/ test( "AaB", "B--------" );
/*6*/ test( "ABa", "-------B-" );
/*7*/ test( "ABCDEFGHI", "AGCEIDHBF" );
/*8*/ test( "OPQRSTUVW", "WSQUOTPVR" );
/*9*/ test( "F", "F--------" );
/*10*/ test( "L", "L--------" );
/*11*/ test( "Mm", "---------" );
/*12*/ test( "JQ", "J---Q----" );
/*13*/ test( "ACP", "A---P--C-" );
/*14*/ test( "GgS", "----S----" );
/*15*/ test( "USLE", "L-E-U-S--" );
/*16*/ test( "XJZY", "J-Y-X-Z--" );
/*17*/ test( "NnJXx", "J--------" );
/*18*/ test( "AJjQa", "----Q----" );
/*19*/ test( "HGThgQ", "----T-Q--" );
/*20*/ test( "NJRErI", "J-E-N--I-" );
/*21*/ test( "ZzWwDYG", "D---Y--G-" );
/*22*/ test( "ZGgKQHM", "K-H-Z-Q-M" );
/*23*/ test( "OZYSAsHP", "A-Y-OPZ-H" );
/*24*/ test( "VNnEISAW", "E-S-VWAI-" );
/*25*/ test( "HhYAKkCOE", "A-O-Y-EC-" );
/*26*/ test( "KAkHJTSWV", "H-JWTSVA-" );
/*27*/ test( "WNTYKHZhMQ", "KMTQWZN-Y" );
/*28*/ test( "YyJHFGfgTh", "J---T----" );
/*29*/ test( "NRWPLBZAOpC", "LBWONZRAC" );
/*30*/ test( "IORiTMXHUCF", "MCTFOURXH" );
/*31*/ test( "AEeHGBEJUNZn", "AZGEUB-HJ" );
/*32*/ test( "GgKGSOsZTLYS", "K-OYZTSGL" );
/*33*/ test( "VZvPOpWPMzHGF", "MGO-W-HFP" );
/*34*/ test( "CMmcUuLTWADFQ", "LFA-TQW-D" );
/*35*/ test( "HUGZMLzlNgTLDd", "H-N-U-MTL" );
/*36*/ test( "CFKEkHeJShUDTf", "C-UTSJ--D" );
/*37*/ test( "QJjGPMAICHKqWcY", "GIMHWKPYA" );
/*38*/ test( "HhIiQCIBiUMZcVv", "--B-QZU-M" );
/*39*/ test( "VMvEmFOPANIBUiVb", "F-PUONAEV" );
/*40*/ test( "EDCJUINdLPVnFpGe", "-VCFUJGLI" );
/*41*/ test( "FGQINTEnLMAlBbPpV", "FMITQAVGE" );
/*42*/ test( "WSVCORUMXsvNBuTtT", "CXBTWRNOM" );
/*43*/ test( "HJTjRVIQAXqDGxCtUh", "-AVCUGRDI" );
/*44*/ test( "ZzHXIEKQYUuBTxLlCq", "HTEYC-KIB" );
/*45*/ test( "RGDCAEBVrgFbTJUePjc", "-T-FUVADP" );
/*46*/ test( "WBIRSALCVvsbwalYBJP", "B-R-YPCIJ" );
/*47*/ test( "HKFZGEPAIphLRarAOaHo", "LHFIZ-GKE" );
/*48*/ test( "WFNwBfbSAXCZzMDJUcKx", "AM-JSUNDK" );</textarea>
</body>
</html>
