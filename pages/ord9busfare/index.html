<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <title>バス代   〜 横へな 2013.4.6</title>
    <link href='style.css' rel='stylesheet'>
  </head>
  <body>
    <h1>バス代   〜 横へな 2013.4.6</h1>
    <h2>問題</h2>
    <p>
      バス代を計算する。<br/>
      年齢区分は
    </p>
    <table>
      <tr>
        <th></th>
        <th>幼児</th>
        <th>子供</th>
        <th>大人</th>
      </tr>
      <tr>
        <th>記号</th>
        <td>I</td>
        <td>C</td>
        <td>A</td>
      </tr>
      <tr>
        <th>意味</th>
        <td>小学校入学前</td>
        <td>小学生</td>
        <td>中学生以上</td>
      </tr>
      <tr>
        <th>通常料金</th>
        <td>後述</td>
        <td>大人の半額(10円未満切り上げ)</td>
        <td>大人料金</td>
      </tr>
    </table>
    となっている。
    <br>
    幼児については
    <ul>
      <li>同行者の大人1名につき2名まで無料。</li>
      <li>無料にならなかった幼児の通常料金は、「大人の半額(10円未満切り上げ)」。</li>
    </ul>
    となっている。
    <br>
    年齢区分とは別に料金区分がある。
    <table>
      <tr>
        <th></th>
        <th>通常</th>
        <th>定期券あり</th>
        <th>福祉割引</th>
      </tr>
      <tr>
        <th>記号</th>
        <td>n</td>
        <td>p</td>
        <td>w</td>
      </tr>
      <tr>
        <th>料金</th>
        <td>通常料金</td>
        <td>無料</td>
        <td>通常料金の半額(10円未満切り上げ)</td>
      </tr>
    </table>
    例えば。
    <br>
    大人通常で 210円の区間を下表の乗客が乗ったとする：
    <table>
      <tr>
        <th>記号</th>
        <th>意味</th>
        <th>人数</th>
      </tr>
      <tr>
        <td>Ap</td>
        <td>大人・定期券あり</td>
        <td>1</td>
      </tr>
      <tr>
        <td>Cn</td>
        <td>子供・通常</td>
        <td>1</td>
      </tr>
      <tr>
        <td>In</td>
        <td>幼児・通常</td>
        <td>1</td>
      </tr>
      <tr>
        <td>Iw</td>
        <td>幼児・福祉割引</td>
        <td>2</td>
      </tr>
    </table>
    大人が1名なので、幼児が2名無料。幼児は3名いるので有料の幼児が1名。その1名を「通常」区分の幼児にすると損なので、「福祉割引」区分の幼児を有料にする。
    <br>
    したがって、料金が発生するのは「子供・通常」が1名、「幼児・福祉割引」が1名。
    <br>
    「子供・通常」は210円の半額(10円未満切り上げ)なので 110円。福祉割引の幼児は「通常」区分の幼児の半額(10円未満切り上げ)なので、60円。
    <br>
    したがって、バス代は合計 110円+60円 で 170円 となる。
    <h2>入力と出力</h2>
    入力は
    <code>210:Cn,In,Iw,Ap,Iw</code>
    のような形式。
    <br>
    順序はバスに乗った順であり、区分によって整列されていたりはしない。
    <br>
    コロンの前に大人通常の料金。コロンの後にコンマ区切りで記号が並ぶ。コロンやコンマの前後に空白はない。
    <br>
    記号は、年齢区分(大文字)+料金区分(小文字)からなる二文字の文字列。
    <br>
    <p></p>
    <h2>補足</h2>
    <ul>
      <li>大人通常の料金は10円より多く、1の位はゼロになっている。そうでない場合を考慮する必要はない。</li>
      <li>一台のバスに乗れる人数は激しく多めに見積もっても 200名なので、それ以上の人数が入力としてくる場合を考慮する必要はない（運転手が断るので料金計算が発生しない）</li>
      <li>入力文字列の書式が不正である場合（コロンがない、年齢区分がZ、など）については考慮しなくてよい。</li>
      <li>
        実装ができた方は
        <a href='http://qiita.com/items/84255ac417ef25069a3b'>Qiitaの記事</a>
        のコメント欄からリンクを張っていただくと見つけやすくて助かります。
      </li>
    </ul>
    <h2>サンプルデータ</h2>
    <table>
      <tr>
        <th>#</th>
        <th>入力</th>
        <th>期待</th>
      </tr>
      <tr>
        <td>0</td>
        <td>
          <code>210:Cn,In,Iw,Ap,Iw</code>
        </td>
        <td>
          <code>170</code>
        </td>
      </tr>
      <tr>
        <td>1</td>
        <td>
          <code>220:Cp,In</code>
        </td>
        <td>
          <code>110</code>
        </td>
      </tr>
      <tr>
        <td>2</td>
        <td>
          <code>230:Cw,In,Iw</code>
        </td>
        <td>
          <code>240</code>
        </td>
      </tr>
      <tr>
        <td>3</td>
        <td>
          <code>240:In,An,In</code>
        </td>
        <td>
          <code>240</code>
        </td>
      </tr>
      <tr>
        <td>4</td>
        <td>
          <code>250:In,In,Aw,In</code>
        </td>
        <td>
          <code>260</code>
        </td>
      </tr>
      <tr>
        <td>5</td>
        <td>
          <code>260:In,In,In,In,Ap</code>
        </td>
        <td>
          <code>260</code>
        </td>
      </tr>
      <tr>
        <td>6</td>
        <td>
          <code>270:In,An,In,In,Ip</code>
        </td>
        <td>
          <code>410</code>
        </td>
      </tr>
      <tr>
        <td>7</td>
        <td>
          <code>280:Aw,In,Iw,In</code>
        </td>
        <td>
          <code>210</code>
        </td>
      </tr>
      <tr>
        <td>8</td>
        <td>
          <code>200:An</code>
        </td>
        <td>
          <code>200</code>
        </td>
      </tr>
      <tr>
        <td>9</td>
        <td>
          <code>210:Iw</code>
        </td>
        <td>
          <code>60</code>
        </td>
      </tr>
      <tr>
        <td>10</td>
        <td>
          <code>220:Ap</code>
        </td>
        <td>
          <code>0</code>
        </td>
      </tr>
      <tr>
        <td>11</td>
        <td>
          <code>230:Cp</code>
        </td>
        <td>
          <code>0</code>
        </td>
      </tr>
      <tr>
        <td>12</td>
        <td>
          <code>240:Cw</code>
        </td>
        <td>
          <code>60</code>
        </td>
      </tr>
      <tr>
        <td>13</td>
        <td>
          <code>250:In</code>
        </td>
        <td>
          <code>130</code>
        </td>
      </tr>
      <tr>
        <td>14</td>
        <td>
          <code>260:Cn</code>
        </td>
        <td>
          <code>130</code>
        </td>
      </tr>
      <tr>
        <td>15</td>
        <td>
          <code>270:Ip</code>
        </td>
        <td>
          <code>0</code>
        </td>
      </tr>
      <tr>
        <td>16</td>
        <td>
          <code>280:Aw</code>
        </td>
        <td>
          <code>140</code>
        </td>
      </tr>
      <tr>
        <td>17</td>
        <td>
          <code>1480:In,An,In,In,In,Iw,Cp,Cw,In,Aw,In,In,Iw,Cn,Aw,Iw</code>
        </td>
        <td>
          <code>5920</code>
        </td>
      </tr>
      <tr>
        <td>18</td>
        <td>
          <code>630:Aw,Cw,Iw,An,An</code>
        </td>
        <td>
          <code>1740</code>
        </td>
      </tr>
      <tr>
        <td>19</td>
        <td>
          <code>340:Cn,Cn,Ip,Ap</code>
        </td>
        <td>
          <code>340</code>
        </td>
      </tr>
      <tr>
        <td>20</td>
        <td>
          <code>240:Iw,Ap,In,Iw,Aw</code>
        </td>
        <td>
          <code>120</code>
        </td>
      </tr>
      <tr>
        <td>21</td>
        <td>
          <code>800:Cw,An,Cn,Aw,Ap</code>
        </td>
        <td>
          <code>1800</code>
        </td>
      </tr>
      <tr>
        <td>22</td>
        <td>
          <code>1210:An,Ip,In,Iw,An,Iw,Iw,An,Iw,Iw</code>
        </td>
        <td>
          <code>3630</code>
        </td>
      </tr>
      <tr>
        <td>23</td>
        <td>
          <code>530:An,Cw,Cw</code>
        </td>
        <td>
          <code>810</code>
        </td>
      </tr>
      <tr>
        <td>24</td>
        <td>
          <code>170:Aw,Iw,Ip</code>
        </td>
        <td>
          <code>90</code>
        </td>
      </tr>
      <tr>
        <td>25</td>
        <td>
          <code>150:In,Ip,Ip,Iw,In,Iw,Iw,In,An,Iw,Aw,Cw,Iw,Cw,An,Cp,Iw</code>
        </td>
        <td>
          <code>580</code>
        </td>
      </tr>
      <tr>
        <td>26</td>
        <td>
          <code>420:Cn,Cw,Cp</code>
        </td>
        <td>
          <code>320</code>
        </td>
      </tr>
      <tr>
        <td>27</td>
        <td>
          <code>690:Cw,In,An,Cp,Cn,In</code>
        </td>
        <td>
          <code>1220</code>
        </td>
      </tr>
      <tr>
        <td>28</td>
        <td>
          <code>590:Iw,Iw,Cn,Iw,Aw,In,In,Ip,Iw,Ip,Aw</code>
        </td>
        <td>
          <code>1200</code>
        </td>
      </tr>
      <tr>
        <td>29</td>
        <td>
          <code>790:Cw,Cn,Cn</code>
        </td>
        <td>
          <code>1000</code>
        </td>
      </tr>
      <tr>
        <td>30</td>
        <td>
          <code>1220:In,In,An,An,In,Iw,Iw,In,In,Ip,In,An,Iw</code>
        </td>
        <td>
          <code>4590</code>
        </td>
      </tr>
      <tr>
        <td>31</td>
        <td>
          <code>570:Cw,Cn,Cp</code>
        </td>
        <td>
          <code>440</code>
        </td>
      </tr>
      <tr>
        <td>32</td>
        <td>
          <code>310:Cn,Cw,An,An,Iw,Cp,Cw,Cn,Iw</code>
        </td>
        <td>
          <code>1100</code>
        </td>
      </tr>
      <tr>
        <td>33</td>
        <td>
          <code>910:Aw,In,Iw,Iw,Iw,Iw,Iw,An,Cw,In</code>
        </td>
        <td>
          <code>2290</code>
        </td>
      </tr>
      <tr>
        <td>34</td>
        <td>
          <code>460:Iw,Cw,Cw,Cn</code>
        </td>
        <td>
          <code>590</code>
        </td>
      </tr>
      <tr>
        <td>35</td>
        <td>
          <code>240:Iw,Iw,In,Iw,In,In,Cn,In,An</code>
        </td>
        <td>
          <code>780</code>
        </td>
      </tr>
      <tr>
        <td>36</td>
        <td>
          <code>1240:In,In,In,Ap,In,Cw,Iw,Iw,Iw,Aw,Cw</code>
        </td>
        <td>
          <code>2170</code>
        </td>
      </tr>
      <tr>
        <td>37</td>
        <td>
          <code>1000:Iw,Ip,In,An,In,In,In,An,In,Iw,In,In,Iw,In,Iw,Iw,Iw,An</code>
        </td>
        <td>
          <code>5500</code>
        </td>
      </tr>
      <tr>
        <td>38</td>
        <td>
          <code>180:In,Aw,Ip,Iw,In,Aw,In,Iw,Iw,In</code>
        </td>
        <td>
          <code>330</code>
        </td>
      </tr>
      <tr>
        <td>39</td>
        <td>
          <code>440:In,Ip,Cp,Aw,Iw,In,An</code>
        </td>
        <td>
          <code>660</code>
        </td>
      </tr>
      <tr>
        <td>40</td>
        <td>
          <code>1270:Ap,In,An,Ip,In,Ip,Ip</code>
        </td>
        <td>
          <code>1270</code>
        </td>
      </tr>
    </table>
    <h2>C/C++/Java 用のテストデータ</h2>
    <textarea>/*0*/ test( "210:Cn,In,Iw,Ap,Iw", "170" );&#x000A;/*1*/ test( "220:Cp,In", "110" );&#x000A;/*2*/ test( "230:Cw,In,Iw", "240" );&#x000A;/*3*/ test( "240:In,An,In", "240" );&#x000A;/*4*/ test( "250:In,In,Aw,In", "260" );&#x000A;/*5*/ test( "260:In,In,In,In,Ap", "260" );&#x000A;/*6*/ test( "270:In,An,In,In,Ip", "410" );&#x000A;/*7*/ test( "280:Aw,In,Iw,In", "210" );&#x000A;/*8*/ test( "200:An", "200" );&#x000A;/*9*/ test( "210:Iw", "60" );&#x000A;/*10*/ test( "220:Ap", "0" );&#x000A;/*11*/ test( "230:Cp", "0" );&#x000A;/*12*/ test( "240:Cw", "60" );&#x000A;/*13*/ test( "250:In", "130" );&#x000A;/*14*/ test( "260:Cn", "130" );&#x000A;/*15*/ test( "270:Ip", "0" );&#x000A;/*16*/ test( "280:Aw", "140" );&#x000A;/*17*/ test( "1480:In,An,In,In,In,Iw,Cp,Cw,In,Aw,In,In,Iw,Cn,Aw,Iw", "5920" );&#x000A;/*18*/ test( "630:Aw,Cw,Iw,An,An", "1740" );&#x000A;/*19*/ test( "340:Cn,Cn,Ip,Ap", "340" );&#x000A;/*20*/ test( "240:Iw,Ap,In,Iw,Aw", "120" );&#x000A;/*21*/ test( "800:Cw,An,Cn,Aw,Ap", "1800" );&#x000A;/*22*/ test( "1210:An,Ip,In,Iw,An,Iw,Iw,An,Iw,Iw", "3630" );&#x000A;/*23*/ test( "530:An,Cw,Cw", "810" );&#x000A;/*24*/ test( "170:Aw,Iw,Ip", "90" );&#x000A;/*25*/ test( "150:In,Ip,Ip,Iw,In,Iw,Iw,In,An,Iw,Aw,Cw,Iw,Cw,An,Cp,Iw", "580" );&#x000A;/*26*/ test( "420:Cn,Cw,Cp", "320" );&#x000A;/*27*/ test( "690:Cw,In,An,Cp,Cn,In", "1220" );&#x000A;/*28*/ test( "590:Iw,Iw,Cn,Iw,Aw,In,In,Ip,Iw,Ip,Aw", "1200" );&#x000A;/*29*/ test( "790:Cw,Cn,Cn", "1000" );&#x000A;/*30*/ test( "1220:In,In,An,An,In,Iw,Iw,In,In,Ip,In,An,Iw", "4590" );&#x000A;/*31*/ test( "570:Cw,Cn,Cp", "440" );&#x000A;/*32*/ test( "310:Cn,Cw,An,An,Iw,Cp,Cw,Cn,Iw", "1100" );&#x000A;/*33*/ test( "910:Aw,In,Iw,Iw,Iw,Iw,Iw,An,Cw,In", "2290" );&#x000A;/*34*/ test( "460:Iw,Cw,Cw,Cn", "590" );&#x000A;/*35*/ test( "240:Iw,Iw,In,Iw,In,In,Cn,In,An", "780" );&#x000A;/*36*/ test( "1240:In,In,In,Ap,In,Cw,Iw,Iw,Iw,Aw,Cw", "2170" );&#x000A;/*37*/ test( "1000:Iw,Ip,In,An,In,In,In,An,In,Iw,In,In,Iw,In,Iw,Iw,Iw,An", "5500" );&#x000A;/*38*/ test( "180:In,Aw,Ip,Iw,In,Aw,In,Iw,Iw,In", "330" );&#x000A;/*39*/ test( "440:In,Ip,Cp,Aw,Iw,In,An", "660" );&#x000A;/*40*/ test( "1270:Ap,In,An,Ip,In,Ip,Ip", "1270" );</textarea>
  </body>
</html>
