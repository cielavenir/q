<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <title>道なりの亀 〜 横へな 2013.7.6 参考問題</title>
    <link href='style.css' rel='stylesheet'>
  </head>
  <body>
    <h1>道なりの亀 〜 横へな 2013.7.6 参考問題</h1>
    <h2>問題</h2>
    <p>
      下図のような地図の上を、入力文字列の指示に従って亀が歩く。
      <br>
      <img src='base.png' width='330'>
      <br>
      ※ 大文字小文字数字の区別がしやすいよう、大文字・小文字・数字をそれぞれ別のフォントにしてある。
      <br>
      最初にいるマスは、左上隅の
      <code>A</code>
      で、最初は右 (つまり
      <code>B</code>
      の方) を向いている。
      <br>
      入力文字列の指示によって以下のように向きと位置を変える。
      <ul>
        <li>時計回りに90度ほど向きを変える(位置は変えない)</li>
        <li>反時計回りに90度ほど向きを変える(位置は変えない)</li>
        <li>
          向いている方向に
          <strong>
            道なりに
          </strong>
          進む
        </li>
      </ul>
      マス目の外に行ってしまった場合、その時点で終了とする。
      <br>
      例えば。
      <ul>
        <li>
          最初の状態からまっすぐ進むと
          <code>ABCDEFGHIJK</code>
          という順に移動する。
        </li>
        <li>
          最初の状態から時計回りに90度ほど向きを変えてからまっすぐ進むと
          <code>ALWhknqtwz25gVK</code>
          という順に移動する。
        </li>
        <li>
          最初の状態からまっすぐ8歩進んでから時計回りに90度ほど向きを変え、その後12歩進むと
          <code>ABCDEFGHITe741yvspmjY</code>
          という順に移動する。
        </li>
      </ul>
      というわけで、最初のマスから最終的に到達したマスまで順に並べた文字列を出力せよ。
    </p>
    <h2>入力と出力</h2>
    <p>
      入力文字列は
      <code>2RcL3LL22</code>
      のように、コマンドが区切り文字なしで並んでいる。
      <br>
      コマンドは下表の通り：
      <table>
        <tr>
          <th>コマンド</th>
          <th>意味</th>
        </tr>
        <tr>
          <th>L</th>
          <td>反時計回りに90度ほど向きを変える</td>
        </tr>
        <tr>
          <th>R</th>
          <td>時計回りに90度ほど向きを変える</td>
        </tr>
        <tr>
          <th>1〜9</th>
          <td>
            1〜9 マス
            <strong>
              道なりに
            </strong>
            進む
          </td>
        </tr>
        <tr>
          <th>a〜f</th>
          <td>
            10〜15 マス
            <strong>
              道なりに
            </strong>
            進む
          </td>
        </tr>
      </table>
      例えば、
      <code>2RcL3LL22</code>
      は
      <ul>
        <li>
          <code>2</code>
           : 2マス<strong>道なりに</strong>進む
        </li>
        <li>
          <code>R</code>
           : 時計回りに90度ほど向きを変える
        </li>
        <li>
          <code>c</code>
           : 12マス<strong>道なりに</strong>進む
        </li>
        <li>
          <code>L</code>
           : 反時計回りに90度ほど向きを変える
        </li>
        <li>
          <code>3</code>
           : 3マス<strong>道なりに</strong>進む
        </li>
        <li>
          <code>L</code>
           : 反時計回りに90度ほど向きを変える
        </li>
        <li>
          <code>L</code>
           : 反時計回りに90度ほど向きを変える
        </li>
        <li>
          <code>2</code>
           : 2マス<strong>道なりに</strong>進む
        </li>
        <li>
          <code>2</code>
           : 2マス<strong>道なりに</strong>進む
        </li>
      </ul>
      という意味なので、
      <code>ABCNYjmpsvy147edcbcdef</code>
      と移動する。
      <br>
      マス目の外に行ってしまった場合はその時点で終了となる。マス目の外に行ってしまったことを明示するため、出力する文字列の末尾に
      <code>?</code>
      をつける。
      <br>
      例えば、
      <code>L3R4L5RR5R3L5</code>
      が入力の場合、即座にマス目の外に行ってしまうので出力は
      <code>A?</code>
      となり、最初の二文字以外は全て無視されてしまう。
    </p>
    <h2>補足</h2>
    <ul>
      <li>
        最初にいるマスの名前
        <code>A</code>
        も出力に含める。
      </li>
      <li>
        不正な入力に対処する必要はない。
      </li>
      <li>
        <code>f</code>
        は valid な入力で15歩進むことを意味するが、15歩進める場所はどこにもない。そういうものだ。
      </li>
      <li>
        <code>112</code>
        や
        <code>LLLLLLRR</code>
        のような冗長なコマンドもある。そういうものだ。
      </li>
      <li>
        実装ができた方は
        <a href='http://qiita.com/Nabetani/items/1de39df381dfeee305ab'>Qiitaの記事</a>
        のコメント欄からリンクを張っていただくと見つけやすくて助かります。
      </li>
    </ul>
    <h2>サンプルデータ</h2>
    <table>
      <tr>
        <th>#</th>
        <th>入力</th>
        <th>期待</th>
      </tr>
      <tr>
        <td>0</td>
        <td>
          <code>2RcL3LL22</code>
        </td>
        <td>
          <code>ABCNYjmpsvy147edcbcdef</code>
        </td>
      </tr>
      <tr>
        <td>1</td>
        <td>
          <code>L3R4L5RR5R3L5</code>
        </td>
        <td>
          <code>A?</code>
        </td>
      </tr>
      <tr>
        <td>2</td>
        <td>
          <code>2ReLLe</code>
        </td>
        <td>
          <code>ABCNYjmpsvy147eTITe741yvspmjYNC</code>
        </td>
      </tr>
      <tr>
        <td>3</td>
        <td>
          <code>1ReRRe</code>
        </td>
        <td>
          <code>ABMXilorux036fUJUf630xuroliXMB</code>
        </td>
      </tr>
      <tr>
        <td>4</td>
        <td>
          <code>ReRRe</code>
        </td>
        <td>
          <code>ALWhknqtwz25gVKVg52zwtqnkhWLA</code>
        </td>
      </tr>
      <tr>
        <td>5</td>
        <td>
          <code>f</code>
        </td>
        <td>
          <code>ABCDEFGHIJK?</code>
        </td>
      </tr>
      <tr>
        <td>6</td>
        <td>
          <code>Rf</code>
        </td>
        <td>
          <code>ALWhknqtwz25gVK?</code>
        </td>
      </tr>
      <tr>
        <td>7</td>
        <td>
          <code>1Rf</code>
        </td>
        <td>
          <code>ABMXilorux036fUJ?</code>
        </td>
      </tr>
      <tr>
        <td>8</td>
        <td>
          <code>2Rf</code>
        </td>
        <td>
          <code>ABCNYjmpsvy147eTI?</code>
        </td>
      </tr>
      <tr>
        <td>9</td>
        <td>
          <code>aR1RaL1LaR1R2L1L2</code>
        </td>
        <td>
          <code>ABCDEFGHIJKVUTSRQPONMLWXYZabcdefg567432</code>
        </td>
      </tr>
      <tr>
        <td>10</td>
        <td>
          <code>2R1R2L1L2R1R2L1L2R1R2L1L2R1R2L1L2</code>
        </td>
        <td>
          <code>ABCNMLWXYjihklmponqrsvutwxy</code>
        </td>
      </tr>
      <tr>
        <td>11</td>
        <td>
          <code>2R4R2L4L2R4R2L4L2R4R2L4L2</code>
        </td>
        <td>
          <code>ABCNYjmlknqtwxy147efgVK?</code>
        </td>
      </tr>
      <tr>
        <td>12</td>
        <td>
          <code>R1L2R4R2L4L2R4R2L4L2R4R2L4L2</code>
        </td>
        <td>
          <code>ALMNYjmponqtwz0147eTUVK?</code>
        </td>
      </tr>
      <tr>
        <td>13</td>
        <td>
          <code>R2L2R4R2L4L2R4R2L4L2R4R2L4L2</code>
        </td>
        <td>
          <code>ALWXYjmpsrqtwz2347eTIJK?</code>
        </td>
      </tr>
      <tr>
        <td>14</td>
        <td>
          <code>R3L2R4R2L4L2R4R2L4L2R4R2L4L2</code>
        </td>
        <td>
          <code>ALWhijmpsvutwz2567eTI?</code>
        </td>
      </tr>
      <tr>
        <td>15</td>
        <td>
          <code>R5L2L5L1LaR1L4L5</code>
        </td>
        <td>
          <code>ALWhknopmjYNCBMXilorux0325gVKJIHGF</code>
        </td>
      </tr>
      <tr>
        <td>16</td>
        <td>
          <code>1R2L4L2R4R2L4L2R4</code>
        </td>
        <td>
          <code>ABMXYZabQFGHIJUfg?</code>
        </td>
      </tr>
      <tr>
        <td>17</td>
        <td>
          <code>2R2L4L2R4R2L4L2R4</code>
        </td>
        <td>
          <code>ABCNYZabcRGHIJKVg?</code>
        </td>
      </tr>
      <tr>
        <td>18</td>
        <td>
          <code>3R2L4L2R4R2L4L2R4</code>
        </td>
        <td>
          <code>ABCDOZabcdSHIJK?</code>
        </td>
      </tr>
      <tr>
        <td>19</td>
        <td>
          <code>4R2L4L2R4R2L4L2R4</code>
        </td>
        <td>
          <code>ABCDEPabcdeTIJK?</code>
        </td>
      </tr>
      <tr>
        <td>20</td>
        <td>
          <code>5R2L4L2R4R2L4L2R4</code>
        </td>
        <td>
          <code>ABCDEFQbcdefUJK?</code>
        </td>
      </tr>
      <tr>
        <td>21</td>
        <td>
          <code>LLL1RRR1LLL1RRR2R1</code>
        </td>
        <td>
          <code>ALMXYZ?</code>
        </td>
      </tr>
      <tr>
        <td>22</td>
        <td>
          <code>R3RRR3</code>
        </td>
        <td>
          <code>ALWhij?</code>
        </td>
      </tr>
      <tr>
        <td>23</td>
        <td>
          <code>1LLL4RRR1LR1RL1</code>
        </td>
        <td>
          <code>ABMXilm?</code>
        </td>
      </tr>
      <tr>
        <td>24</td>
        <td>
          <code>R2L1R2L1R3R4</code>
        </td>
        <td>
          <code>ALWXilmpsvut?</code>
        </td>
      </tr>
      <tr>
        <td>25</td>
        <td>
          <code>7R4f47LLLc6R9L</code>
        </td>
        <td>
          <code>ABCDEFGHSd?</code>
        </td>
      </tr>
      <tr>
        <td>26</td>
        <td>
          <code>5RR868L8448LL4R6</code>
        </td>
        <td>
          <code>ABCDEFEDCBA?</code>
        </td>
      </tr>
      <tr>
        <td>27</td>
        <td>
          <code>42Rd1RLLa7L5</code>
        </td>
        <td>
          <code>ABCDEFGRc?</code>
        </td>
      </tr>
      <tr>
        <td>28</td>
        <td>
          <code>RRLL6RLR1L5d12LaLRRL529L</code>
        </td>
        <td>
          <code>ABCDEFGRSTUV?</code>
        </td>
      </tr>
      <tr>
        <td>29</td>
        <td>
          <code>RLR7L6LL1LRRRcRL52R</code>
        </td>
        <td>
          <code>ALWhknqtuv?</code>
        </td>
      </tr>
      <tr>
        <td>30</td>
        <td>
          <code>1RLR8RLR1R437L99636R</code>
        </td>
        <td>
          <code>ABMXiloruxwtqnkhWLA?</code>
        </td>
      </tr>
      <tr>
        <td>31</td>
        <td>
          <code>LLL2L3La9Le5LRR</code>
        </td>
        <td>
          <code>ALWXYZOD?</code>
        </td>
      </tr>
      <tr>
        <td>32</td>
        <td>
          <code>R1LcRR491</code>
        </td>
        <td>
          <code>ALMNOPQRSTUV?</code>
        </td>
      </tr>
      <tr>
        <td>33</td>
        <td>
          <code>R8L1R1R512L8RLLReRf</code>
        </td>
        <td>
          <code>ALWhknqtwx0z?</code>
        </td>
      </tr>
      <tr>
        <td>34</td>
        <td>
          <code>1RcL8f1L29a5</code>
        </td>
        <td>
          <code>ABMXilorux036fedcbaZYXW?</code>
        </td>
      </tr>
      <tr>
        <td>35</td>
        <td>
          <code>R822LeL46LL39LL</code>
        </td>
        <td>
          <code>ALWhknqtwz25gfedcbaZYXW?</code>
        </td>
      </tr>
      <tr>
        <td>36</td>
        <td>
          <code>9R3L5LRRLb5R3L7cLLLR4L</code>
        </td>
        <td>
          <code>ABCDEFGHIJUf65?</code>
        </td>
      </tr>
      <tr>
        <td>37</td>
        <td>
          <code>7LLRRR2R3R69Lf76eR2L</code>
        </td>
        <td>
          <code>ABCDEFGHSdcbaPE?</code>
        </td>
      </tr>
      <tr>
        <td>38</td>
        <td>
          <code>8RRRLL3Le</code>
        </td>
        <td>
          <code>ABCDEFGHITe765?</code>
        </td>
      </tr>
      <tr>
        <td>39</td>
        <td>
          <code>8R5RLL6LbL4LL5bL</code>
        </td>
        <td>
          <code>ABCDEFGHITe7410z?</code>
        </td>
      </tr>
      <tr>
        <td>40</td>
        <td>
          <code>6LR2R1LR5LRLRL484L63</code>
        </td>
        <td>
          <code>ABCDEFGHITe741yxw?</code>
        </td>
      </tr>
    </table>
    <h2>C/C++/Java 用のテストデータ</h2>
    <textarea>/*0*/ test( "2RcL3LL22", "ABCNYjmpsvy147edcbcdef" );&#x000A;/*1*/ test( "L3R4L5RR5R3L5", "A?" );&#x000A;/*2*/ test( "2ReLLe", "ABCNYjmpsvy147eTITe741yvspmjYNC" );&#x000A;/*3*/ test( "1ReRRe", "ABMXilorux036fUJUf630xuroliXMB" );&#x000A;/*4*/ test( "ReRRe", "ALWhknqtwz25gVKVg52zwtqnkhWLA" );&#x000A;/*5*/ test( "f", "ABCDEFGHIJK?" );&#x000A;/*6*/ test( "Rf", "ALWhknqtwz25gVK?" );&#x000A;/*7*/ test( "1Rf", "ABMXilorux036fUJ?" );&#x000A;/*8*/ test( "2Rf", "ABCNYjmpsvy147eTI?" );&#x000A;/*9*/ test( "aR1RaL1LaR1R2L1L2", "ABCDEFGHIJKVUTSRQPONMLWXYZabcdefg567432" );&#x000A;/*10*/ test( "2R1R2L1L2R1R2L1L2R1R2L1L2R1R2L1L2", "ABCNMLWXYjihklmponqrsvutwxy" );&#x000A;/*11*/ test( "2R4R2L4L2R4R2L4L2R4R2L4L2", "ABCNYjmlknqtwxy147efgVK?" );&#x000A;/*12*/ test( "R1L2R4R2L4L2R4R2L4L2R4R2L4L2", "ALMNYjmponqtwz0147eTUVK?" );&#x000A;/*13*/ test( "R2L2R4R2L4L2R4R2L4L2R4R2L4L2", "ALWXYjmpsrqtwz2347eTIJK?" );&#x000A;/*14*/ test( "R3L2R4R2L4L2R4R2L4L2R4R2L4L2", "ALWhijmpsvutwz2567eTI?" );&#x000A;/*15*/ test( "R5L2L5L1LaR1L4L5", "ALWhknopmjYNCBMXilorux0325gVKJIHGF" );&#x000A;/*16*/ test( "1R2L4L2R4R2L4L2R4", "ABMXYZabQFGHIJUfg?" );&#x000A;/*17*/ test( "2R2L4L2R4R2L4L2R4", "ABCNYZabcRGHIJKVg?" );&#x000A;/*18*/ test( "3R2L4L2R4R2L4L2R4", "ABCDOZabcdSHIJK?" );&#x000A;/*19*/ test( "4R2L4L2R4R2L4L2R4", "ABCDEPabcdeTIJK?" );&#x000A;/*20*/ test( "5R2L4L2R4R2L4L2R4", "ABCDEFQbcdefUJK?" );&#x000A;/*21*/ test( "LLL1RRR1LLL1RRR2R1", "ALMXYZ?" );&#x000A;/*22*/ test( "R3RRR3", "ALWhij?" );&#x000A;/*23*/ test( "1LLL4RRR1LR1RL1", "ABMXilm?" );&#x000A;/*24*/ test( "R2L1R2L1R3R4", "ALWXilmpsvut?" );&#x000A;/*25*/ test( "7R4f47LLLc6R9L", "ABCDEFGHSd?" );&#x000A;/*26*/ test( "5RR868L8448LL4R6", "ABCDEFEDCBA?" );&#x000A;/*27*/ test( "42Rd1RLLa7L5", "ABCDEFGRc?" );&#x000A;/*28*/ test( "RRLL6RLR1L5d12LaLRRL529L", "ABCDEFGRSTUV?" );&#x000A;/*29*/ test( "RLR7L6LL1LRRRcRL52R", "ALWhknqtuv?" );&#x000A;/*30*/ test( "1RLR8RLR1R437L99636R", "ABMXiloruxwtqnkhWLA?" );&#x000A;/*31*/ test( "LLL2L3La9Le5LRR", "ALWXYZOD?" );&#x000A;/*32*/ test( "R1LcRR491", "ALMNOPQRSTUV?" );&#x000A;/*33*/ test( "R8L1R1R512L8RLLReRf", "ALWhknqtwx0z?" );&#x000A;/*34*/ test( "1RcL8f1L29a5", "ABMXilorux036fedcbaZYXW?" );&#x000A;/*35*/ test( "R822LeL46LL39LL", "ALWhknqtwz25gfedcbaZYXW?" );&#x000A;/*36*/ test( "9R3L5LRRLb5R3L7cLLLR4L", "ABCDEFGHIJUf65?" );&#x000A;/*37*/ test( "7LLRRR2R3R69Lf76eR2L", "ABCDEFGHSdcbaPE?" );&#x000A;/*38*/ test( "8RRRLL3Le", "ABCDEFGHITe765?" );&#x000A;/*39*/ test( "8R5RLL6LbL4LL5bL", "ABCDEFGHITe7410z?" );&#x000A;/*40*/ test( "6LR2R1LR5LRLRL484L63", "ABCDEFGHITe741yxw?" );</textarea>
  </body>
</html>
