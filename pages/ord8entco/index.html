<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8' />
    <title>エントロピー符号   〜 横へな 2013.3.1 の参考問題</title>
    <link href='style.css' rel='stylesheet' />
  </head>
  <body>
    <h1>エントロピー符号   〜 横へな 2013.3.1 の参考問題</h1>
    <h2>問題</h2>
    <p>
      <code>16d9d4fbd</code>
      のような符号がある。これを復号し、復号結果の文字列と復号に利用した符号のビット数をコロンでつなげて出力する。
      <br />
      前述の符号は
      30
      bit が有効な符号で、復号の結果は
      ethanol
      なので、
      <code>ethanol:30</code>
      のように出力する。
      <br />
      不正な符号だった場合は
      <code>*invalid*</code>
      と出力する。
    </p>
    <h3>符号の説明</h3>
    <p>
      1bit ずつ流れてくる信号を4bitずつ16進数としてまとめたものが入力の符号である。
      符号は文字を表すビット列の連なりが続き、その後、終端符号がある。終端符号以降のビット列は無視する。
    </p>
    <p>符号の意味は次表のとおり。</p>
    <table>
      <tr>
        <th>符号</th>
        <th>意味</th>
      </tr>
      <tr>
        <td>000</td>
        <td>
          <small>文字</small>
          t
        </td>
      </tr>
      <tr>
        <td>0010</td>
        <td>
          <small>文字</small>
          s
        </td>
      </tr>
      <tr>
        <td>0011</td>
        <td>
          <small>文字</small>
          n
        </td>
      </tr>
      <tr>
        <td>0100</td>
        <td>
          <small>文字</small>
          i
        </td>
      </tr>
      <tr>
        <td>01010</td>
        <td>
          <small>文字</small>
          d
        </td>
      </tr>
      <tr>
        <td>0101101</td>
        <td>
          <small>文字</small>
          c
        </td>
      </tr>
      <tr>
        <td>010111</td>
        <td>
          <small>文字</small>
          l
        </td>
      </tr>
      <tr>
        <td>0110</td>
        <td>
          <small>文字</small>
          o
        </td>
      </tr>
      <tr>
        <td>0111</td>
        <td>
          <small>文字</small>
          a
        </td>
      </tr>
      <tr>
        <td>10</td>
        <td>
          <small>文字</small>
          e
        </td>
      </tr>
      <tr>
        <td>1100</td>
        <td>
          <small>文字</small>
          r
        </td>
      </tr>
      <tr>
        <td>1101</td>
        <td>
          <small>文字</small>
          h
        </td>
      </tr>
      <tr>
        <td>111</td>
        <td>終端</td>
      </tr>
    </table>
    <br clear='all' />
    <h2>計算の例</h2>
    <p>
      入力は
      <code>16d9d4fbd</code>
      のような文字列で与えられる。<br />
      符号の各キャラクタを4bitの16進数とみなし、2進数に変換する。このとき、小さい桁が左になるように 0/1 を並べると<br/>
      <code>1000 0110 1011 1001 1011 0010 1111 1101 1011</code>
      <br />
      となる。<br/>
      上の表を見ながら左端から順に対応する文字を探すと
      <table>
        <tr>
          <th>符号</th>
          <td>
            <code>10</code>
          </td>
          <td>
            <code>000</code>
          </td>
          <td>
            <code>1101</code>
          </td>
          <td>
            <code>0111</code>
          </td>
          <td>
            <code>0011</code>
          </td>
          <td>
            <code>0110</code>
          </td>
          <td>
            <code>010111</code>
          </td>
          <td>
            <code>111</code>
          </td>
          <td>
            <code>011011</code>
          </td>
        </tr>
        <tr>
          <th>文字</th>
          <td>
            <code>e</code>
          </td>
          <td>
            <code>t</code>
          </td>
          <td>
            <code>h</code>
          </td>
          <td>
            <code>a</code>
          </td>
          <td>
            <code>n</code>
          </td>
          <td>
            <code>o</code>
          </td>
          <td>
            <code>l</code>
          </td>
          <td>終端</td>
          <td>未使用</td>
        </tr>
      </table>
      となる。<br/>
      使用したのは
      30
      ビット(終端符号含む)なので、
      <code>ethanol:30</code>
      と出力すればよい。
    </p>
    <h2>補足</h2>
    <ul>
      <li>
        終端符号がない場合と、表にないビット列が現れた場合は
        <code>*invalid*</code>
        を出力する。
      </li>
      <li>入力文字列に 0〜9, a〜f 以外の文字がある場合については考慮しなくてよい。</li>
      <li>
        実装ができた方は
        <a href='http://qiita.com/items/24b9be4ee3bae4c89a95'>Qiitaの記事</a>
        のコメント欄からリンクを張っていただくと見つけやすくて助かります。
      </li>
    </ul>
    <h2>サンプルデータ</h2>
    <table>
      <tr>
        <th>#</th>
        <th>入力</th>
        <th>期待</th>
      </tr>
      <tr>
        <td>0</td>
        <td>
          <code>16d9d4fbd</code>
        </td>
        <td>
          <code>ethanol:30</code>
        </td>
      </tr>
      <tr>
        <td>1</td>
        <td>
          <code>df</code>
        </td>
        <td>
          <code>e:5</code>
        </td>
      </tr>
      <tr>
        <td>2</td>
        <td>
          <code>ad7</code>
        </td>
        <td>
          <code>c:10</code>
        </td>
      </tr>
      <tr>
        <td>3</td>
        <td>
          <code>870dcb</code>
        </td>
        <td>
          <code>t:6</code>
        </td>
      </tr>
      <tr>
        <td>4</td>
        <td>
          <code>880f63d</code>
        </td>
        <td>
          <code>test:15</code>
        </td>
      </tr>
      <tr>
        <td>5</td>
        <td>
          <code>a57cbe56</code>
        </td>
        <td>
          <code>cat:17</code>
        </td>
      </tr>
      <tr>
        <td>6</td>
        <td>
          <code>36abef2</code>
        </td>
        <td>
          <code>roll:23</code>
        </td>
      </tr>
      <tr>
        <td>7</td>
        <td>
          <code>ad576cd8</code>
        </td>
        <td>
          <code>chant:25</code>
        </td>
      </tr>
      <tr>
        <td>8</td>
        <td>
          <code>3e2a3db4fb9</code>
        </td>
        <td>
          <code>rails:25</code>
        </td>
      </tr>
      <tr>
        <td>9</td>
        <td>
          <code>51aa3b4c2</code>
        </td>
        <td>
          <code>eeeteee:18</code>
        </td>
      </tr>
      <tr>
        <td>10</td>
        <td>
          <code>ad5f1a07affe</code>
        </td>
        <td>
          <code>charset:31</code>
        </td>
      </tr>
      <tr>
        <td>11</td>
        <td>
          <code>4ab8a86d7afb0f</code>
        </td>
        <td>
          <code>slideshare:42</code>
        </td>
      </tr>
      <tr>
        <td>12</td>
        <td>
          <code>ac4b0b9faef</code>
        </td>
        <td>
          <code>doctor:30</code>
        </td>
      </tr>
      <tr>
        <td>13</td>
        <td>
          <code>cafebabe</code>
        </td>
        <td>
          <code>nlh:17</code>
        </td>
      </tr>
      <tr>
        <td>14</td>
        <td>
          <code>43e7</code>
        </td>
        <td>
          <code>sra:15</code>
        </td>
      </tr>
      <tr>
        <td>15</td>
        <td>
          <code>53e7</code>
        </td>
        <td>
          <code>eera:15</code>
        </td>
      </tr>
      <tr>
        <td>16</td>
        <td>
          <code>86cf</code>
        </td>
        <td>
          <code>tera:16</code>
        </td>
      </tr>
      <tr>
        <td>17</td>
        <td>
          <code>b6cf</code>
        </td>
        <td>
          <code>hon:15</code>
        </td>
      </tr>
      <tr>
        <td>18</td>
        <td>
          <code>0</code>
        </td>
        <td>
          <code>*invalid*</code>
        </td>
      </tr>
      <tr>
        <td>19</td>
        <td>
          <code>c</code>
        </td>
        <td>
          <code>*invalid*</code>
        </td>
      </tr>
      <tr>
        <td>20</td>
        <td>
          <code>d</code>
        </td>
        <td>
          <code>*invalid*</code>
        </td>
      </tr>
      <tr>
        <td>21</td>
        <td>
          <code>e</code>
        </td>
        <td>
          <code>*invalid*</code>
        </td>
      </tr>
      <tr>
        <td>22</td>
        <td>
          <code>babecafe</code>
        </td>
        <td>
          <code>*invalid*</code>
        </td>
      </tr>
      <tr>
        <td>23</td>
        <td>
          <code>8d</code>
        </td>
        <td>
          <code>*invalid*</code>
        </td>
      </tr>
      <tr>
        <td>24</td>
        <td>
          <code>ad</code>
        </td>
        <td>
          <code>*invalid*</code>
        </td>
      </tr>
      <tr>
        <td>25</td>
        <td>
          <code>af</code>
        </td>
        <td>
          <code>*invalid*</code>
        </td>
      </tr>
      <tr>
        <td>26</td>
        <td>
          <code>ab6e0</code>
        </td>
        <td>
          <code>*invalid*</code>
        </td>
      </tr>
      <tr>
        <td>27</td>
        <td>
          <code>a4371</code>
        </td>
        <td>
          <code>*invalid*</code>
        </td>
      </tr>
      <tr>
        <td>28</td>
        <td>
          <code>a4371</code>
        </td>
        <td>
          <code>*invalid*</code>
        </td>
      </tr>
      <tr>
        <td>29</td>
        <td>
          <code>96e3</code>
        </td>
        <td>
          <code>*invalid*</code>
        </td>
      </tr>
      <tr>
        <td>30</td>
        <td>
          <code>0dc71</code>
        </td>
        <td>
          <code>*invalid*</code>
        </td>
      </tr>
      <tr>
        <td>31</td>
        <td>
          <code>2a9f51</code>
        </td>
        <td>
          <code>*invalid*</code>
        </td>
      </tr>
      <tr>
        <td>32</td>
        <td>
          <code>a43fb2</code>
        </td>
        <td>
          <code>*invalid*</code>
        </td>
      </tr>
      <tr>
        <td>33</td>
        <td>
          <code>ab6e75</code>
        </td>
        <td>
          <code>*invalid*</code>
        </td>
      </tr>
      <tr>
        <td>34</td>
        <td>
          <code>a5dcfa</code>
        </td>
        <td>
          <code>*invalid*</code>
        </td>
      </tr>
      <tr>
        <td>35</td>
        <td>
          <code>ca97</code>
        </td>
        <td>
          <code>*invalid*</code>
        </td>
      </tr>
      <tr>
        <td>36</td>
        <td>
          <code>6822dcb</code>
        </td>
        <td>
          <code>*invalid*</code>
        </td>
      </tr>
    </table>
    <h2>C/C++/Java 用のテストデータ</h2>
    <textarea>/*0*/ test( "16d9d4fbd", "ethanol:30" )
/*1*/ test( "df", "e:5" )
/*2*/ test( "ad7", "c:10" )
/*3*/ test( "870dcb", "t:6" )
/*4*/ test( "880f63d", "test:15" )
/*5*/ test( "a57cbe56", "cat:17" )
/*6*/ test( "36abef2", "roll:23" )
/*7*/ test( "ad576cd8", "chant:25" )
/*8*/ test( "3e2a3db4fb9", "rails:25" )
/*9*/ test( "51aa3b4c2", "eeeteee:18" )
/*10*/ test( "ad5f1a07affe", "charset:31" )
/*11*/ test( "4ab8a86d7afb0f", "slideshare:42" )
/*12*/ test( "ac4b0b9faef", "doctor:30" )
/*13*/ test( "cafebabe", "nlh:17" )
/*14*/ test( "43e7", "sra:15" )
/*15*/ test( "53e7", "eera:15" )
/*16*/ test( "86cf", "tera:16" )
/*17*/ test( "b6cf", "hon:15" )
/*18*/ test( "0", "*invalid*" )
/*19*/ test( "c", "*invalid*" )
/*20*/ test( "d", "*invalid*" )
/*21*/ test( "e", "*invalid*" )
/*22*/ test( "babecafe", "*invalid*" )
/*23*/ test( "8d", "*invalid*" )
/*24*/ test( "ad", "*invalid*" )
/*25*/ test( "af", "*invalid*" )
/*26*/ test( "ab6e0", "*invalid*" )
/*27*/ test( "a4371", "*invalid*" )
/*28*/ test( "a4371", "*invalid*" )
/*29*/ test( "96e3", "*invalid*" )
/*30*/ test( "0dc71", "*invalid*" )
/*31*/ test( "2a9f51", "*invalid*" )
/*32*/ test( "a43fb2", "*invalid*" )
/*33*/ test( "ab6e75", "*invalid*" )
/*34*/ test( "a5dcfa", "*invalid*" )
/*35*/ test( "ca97", "*invalid*" )
/*36*/ test( "6822dcb", "*invalid*" )</textarea>
  </body>
</html>
