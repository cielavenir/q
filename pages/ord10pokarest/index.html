<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <title>ポーカーの残り＋ 〜 横へな 2013.5.10 の参考問題</title>
    <link href='style.css' rel='stylesheet'>
  </head>
  <body>
    <h1>ポーカーの残り＋ 〜 横へな 2013.5.10 の参考問題</h1>
    <h2>問題</h2>
    <p>
      ポーカーの役（抜粋）を判定する。
      <br>
      <a href='http://qiita.com/items/cbc3af152ee3f50a822f'>第一回の参考問題</a>
      に登場しなかった役を判定する。
      <br>
      それだけではつまらないので、カナディアンスタッド(
      <a href='http://ja.wikipedia.org/wiki/ポーカー#.E3.82.AB.E3.83.8A.E3.83.87.E3.82.A3.E3.82.A2.E3.83.B3.E3.83.BB.E3.82.B9.E3.82.BF.E3.83.83.E3.83.89'>see Wikipedia</a>
      )にある「フォーストレートフラッシュ」のたぐいも判定する。
      <br>
      ジョーカーは使わず、52枚のデッキを使う。
      <br>
      対応すべき役は下表の通り(上にある役ほど強い)：
      <table>
        <tr>
          <th>名前</th>
          <th>記号</th>
          <th>説明</th>
          <th>例</th>
        </tr>
        <tr>
          <th>ロイヤルフラッシュ</th>
          <td>RF</td>
          <td>
            スートが全て同じ
            <br>
            ランクが 10, J, Q, K, A の5種類
          </td>
          <td>♠10, ♠J, ♠Q, ♠K, ♠A</td>
        </tr>
        <tr>
          <th>ストレートフラッシュ</th>
          <td>SF</td>
          <td>
            スートが全て同じ
            <br>
            ランクが連続している(註)
          </td>
          <td>♡8, ♡9, ♡10, ♡J, ♡Q</td>
        </tr>
        <tr>
          <th>フラッシュ</th>
          <td>FL</td>
          <td>スートが全て同じ</td>
          <td>♢3, ♢9, ♢10, ♢J, ♢A</td>
        </tr>
        <tr>
          <th>ストレート</th>
          <td>ST</td>
          <td>ランクが連続している(註)</td>
          <td>♢3, ♢4, ♠5, ♣6, ♢7</td>
        </tr>
        <tr>
          <th>フォーストレートフラッシュ</th>
          <td>4SF</td>
          <td>
            5枚のうち4枚のスートが同じ
            <br>
            その4枚のランクが連続している(註)
          </td>
          <td>♠4, ♠5, ♡5, ♠6, ♠7</td>
        </tr>
        <tr>
          <th>フォーフラッシュ</th>
          <td>4F</td>
          <td>5枚のうち4枚のスートが同じ</td>
          <td>♠A, ♠5, ♡5, ♠6, ♠K</td>
        </tr>
        <tr>
          <th>フォーストレート</th>
          <td>4S</td>
          <td>5枚のうち4枚のランクが連続している。(註)</td>
          <td>♠A, ♣2, ♡3, ♠4, ♠K</td>
        </tr>
      </table>
      註) ランクは、A, 2, 3, ..., 10, J, Q, K, A の順になっている。
      Aは2の前とKの後のどちらにもなることができるが、Aを挟んでK, A, 2 とつなげることはできない。例えば、A,2,3,4,5 や 10,J,Q,K,A は連続したランクになるが、Q, K, A, 2, 3 は連続したランクにはならない。
    </p>
    <h2>入力と出力</h2>
    入力は
    <code>Qs9s3dJd10h</code>
    のような形式。
    <br>
    入力文字列の順序はカードを引いた順であり、整列されていない。
    <br>
    各カードはランクとスートによって表現される。ランクは
    <code>2</code>
    <code>3</code>
    <code>4</code>
    <code>5</code>
    <code>6</code>
    <code>7</code>
    <code>8</code>
    <code>9</code>
    <code>10</code>
    <code>J</code>
    <code>Q</code>
    <code>K</code>
    <code>A</code>
    のいずれか。スートは
    <code>s</code>
    <code>h</code>
    <code>d</code>
    <code>c</code>
    のいずれか。
    <br>
    一枚のカードは ランクの文字列とスートの文字を
    <code>10s</code>
    のように並べたもので、手札はカードを5個並べたものである。
    カードとカードの区切りには空白はない。
    <p></p>
    <h2>補足</h2>
    <ul>
      <li>強い役を優先する。例えば、フラッシュであり、フォーストレートでもある場合、フラッシュを優先する。</li>
      <li>ロイヤルフラッシュ はあるが、ロイヤルストレートはない。例えば、 ♠10,♠J,♠Q,♡K,♡A は単なるストレート</li>
      <li>不正な入力（カードの枚数が足りない、Qx や 13s のようなカードがある、7s7s のように同じカードがある、など）には対応しなくてよい。</li>
      <li>
        実装ができた方は
        <a href='http://qiita.com/items/d819d1e5f2378317511e'>Qiitaの記事</a>
        のコメント欄からリンクを張っていただくと見つけやすくて助かります。
      </li>
    </ul>
    <h2>サンプルデータ</h2>
    <table>
      <tr>
        <th>#</th>
        <th>入力</th>
        <th>期待</th>
      </tr>
      <tr>
        <td>0</td>
        <td>
          <code>Qs9s3dJd10h</code>
        </td>
        <td>
          <code>4S</code>
        </td>
      </tr>
      <tr>
        <td>1</td>
        <td>
          <code>KdAdJd10dQd</code>
        </td>
        <td>
          <code>RF</code>
        </td>
      </tr>
      <tr>
        <td>2</td>
        <td>
          <code>QhJhKhAh10h</code>
        </td>
        <td>
          <code>RF</code>
        </td>
      </tr>
      <tr>
        <td>3</td>
        <td>
          <code>10dAdJsQdKd</code>
        </td>
        <td>
          <code>ST</code>
        </td>
      </tr>
      <tr>
        <td>4</td>
        <td>
          <code>Kd10dAdJd3d</code>
        </td>
        <td>
          <code>FL</code>
        </td>
      </tr>
      <tr>
        <td>5</td>
        <td>
          <code>4d3d2dAd5d</code>
        </td>
        <td>
          <code>SF</code>
        </td>
      </tr>
      <tr>
        <td>6</td>
        <td>
          <code>5d5d2d3dAd</code>
        </td>
        <td>
          <code>FL</code>
        </td>
      </tr>
      <tr>
        <td>7</td>
        <td>
          <code>4d2sAd5d3d</code>
        </td>
        <td>
          <code>ST</code>
        </td>
      </tr>
      <tr>
        <td>8</td>
        <td>
          <code>As10dJdQdKd</code>
        </td>
        <td>
          <code>ST</code>
        </td>
      </tr>
      <tr>
        <td>9</td>
        <td>
          <code>10d10dQdAsJd</code>
        </td>
        <td>
          <code>4F</code>
        </td>
      </tr>
      <tr>
        <td>10</td>
        <td>
          <code>AcJd10dQdKd</code>
        </td>
        <td>
          <code>ST</code>
        </td>
      </tr>
      <tr>
        <td>11</td>
        <td>
          <code>Kd2sJdAdQd</code>
        </td>
        <td>
          <code>4SF</code>
        </td>
      </tr>
      <tr>
        <td>12</td>
        <td>
          <code>JdAdQcKd2s</code>
        </td>
        <td>
          <code>4S</code>
        </td>
      </tr>
      <tr>
        <td>13</td>
        <td>
          <code>KdAdKdJd2s</code>
        </td>
        <td>
          <code>4F</code>
        </td>
      </tr>
      <tr>
        <td>14</td>
        <td>
          <code>As2dKdQdJd</code>
        </td>
        <td>
          <code>4F</code>
        </td>
      </tr>
      <tr>
        <td>15</td>
        <td>
          <code>AsKdQd2dJh</code>
        </td>
        <td>
          <code>4S</code>
        </td>
      </tr>
      <tr>
        <td>16</td>
        <td>
          <code>QhAd2s3dKd</code>
        </td>
        <td>
          <code>-</code>
        </td>
      </tr>
      <tr>
        <td>17</td>
        <td>
          <code>Ad4dKh3s2d</code>
        </td>
        <td>
          <code>4S</code>
        </td>
      </tr>
      <tr>
        <td>18</td>
        <td>
          <code>3d2dAh5d4s</code>
        </td>
        <td>
          <code>ST</code>
        </td>
      </tr>
      <tr>
        <td>19</td>
        <td>
          <code>QcKdAs2dJd</code>
        </td>
        <td>
          <code>4S</code>
        </td>
      </tr>
      <tr>
        <td>20</td>
        <td>
          <code>2dQcJdAs10d</code>
        </td>
        <td>
          <code>-</code>
        </td>
      </tr>
      <tr>
        <td>21</td>
        <td>
          <code>4d7d5s3c2d</code>
        </td>
        <td>
          <code>4S</code>
        </td>
      </tr>
      <tr>
        <td>22</td>
        <td>
          <code>7d5s4dAd3c</code>
        </td>
        <td>
          <code>-</code>
        </td>
      </tr>
      <tr>
        <td>23</td>
        <td>
          <code>3s8s10sQs6s</code>
        </td>
        <td>
          <code>FL</code>
        </td>
      </tr>
      <tr>
        <td>24</td>
        <td>
          <code>6hAh3h2h8h</code>
        </td>
        <td>
          <code>FL</code>
        </td>
      </tr>
      <tr>
        <td>25</td>
        <td>
          <code>3h4hJh9hQh</code>
        </td>
        <td>
          <code>FL</code>
        </td>
      </tr>
      <tr>
        <td>26</td>
        <td>
          <code>3s6s5s2sQs</code>
        </td>
        <td>
          <code>FL</code>
        </td>
      </tr>
      <tr>
        <td>27</td>
        <td>
          <code>9d3cKdQc2c</code>
        </td>
        <td>
          <code>-</code>
        </td>
      </tr>
      <tr>
        <td>28</td>
        <td>
          <code>5sKs7hQcKh</code>
        </td>
        <td>
          <code>-</code>
        </td>
      </tr>
      <tr>
        <td>29</td>
        <td>
          <code>Ad6d7h7c9h</code>
        </td>
        <td>
          <code>-</code>
        </td>
      </tr>
      <tr>
        <td>30</td>
        <td>
          <code>10h4cAh6s10c</code>
        </td>
        <td>
          <code>-</code>
        </td>
      </tr>
      <tr>
        <td>31</td>
        <td>
          <code>9sKsJcQs10d</code>
        </td>
        <td>
          <code>ST</code>
        </td>
      </tr>
      <tr>
        <td>32</td>
        <td>
          <code>5d3c2cAs4c</code>
        </td>
        <td>
          <code>ST</code>
        </td>
      </tr>
      <tr>
        <td>33</td>
        <td>
          <code>KcQs9c10sJs</code>
        </td>
        <td>
          <code>ST</code>
        </td>
      </tr>
      <tr>
        <td>34</td>
        <td>
          <code>9d8s10hJdQd</code>
        </td>
        <td>
          <code>ST</code>
        </td>
      </tr>
      <tr>
        <td>35</td>
        <td>
          <code>6c5s10h7d4c</code>
        </td>
        <td>
          <code>4S</code>
        </td>
      </tr>
      <tr>
        <td>36</td>
        <td>
          <code>QhJcKsAh8c</code>
        </td>
        <td>
          <code>4S</code>
        </td>
      </tr>
      <tr>
        <td>37</td>
        <td>
          <code>JsQc3h10cKs</code>
        </td>
        <td>
          <code>4S</code>
        </td>
      </tr>
      <tr>
        <td>38</td>
        <td>
          <code>10c9h7hAd8d</code>
        </td>
        <td>
          <code>4S</code>
        </td>
      </tr>
      <tr>
        <td>39</td>
        <td>
          <code>3d4dKd8d5c</code>
        </td>
        <td>
          <code>4F</code>
        </td>
      </tr>
      <tr>
        <td>40</td>
        <td>
          <code>10h3hQh9h2s</code>
        </td>
        <td>
          <code>4F</code>
        </td>
      </tr>
      <tr>
        <td>41</td>
        <td>
          <code>Qh5h7h9h6c</code>
        </td>
        <td>
          <code>4F</code>
        </td>
      </tr>
      <tr>
        <td>42</td>
        <td>
          <code>6s8s7s3sKc</code>
        </td>
        <td>
          <code>4F</code>
        </td>
      </tr>
      <tr>
        <td>43</td>
        <td>
          <code>10h8h9hJhQh</code>
        </td>
        <td>
          <code>SF</code>
        </td>
      </tr>
      <tr>
        <td>44</td>
        <td>
          <code>10h9hQhKhJh</code>
        </td>
        <td>
          <code>SF</code>
        </td>
      </tr>
      <tr>
        <td>45</td>
        <td>
          <code>6d4d7d5d3d</code>
        </td>
        <td>
          <code>SF</code>
        </td>
      </tr>
      <tr>
        <td>46</td>
        <td>
          <code>6h9h7h5h8h</code>
        </td>
        <td>
          <code>SF</code>
        </td>
      </tr>
      <tr>
        <td>47</td>
        <td>
          <code>Ac6s4s3s5s</code>
        </td>
        <td>
          <code>4SF</code>
        </td>
      </tr>
      <tr>
        <td>48</td>
        <td>
          <code>3c9d2c5c4c</code>
        </td>
        <td>
          <code>4SF</code>
        </td>
      </tr>
      <tr>
        <td>49</td>
        <td>
          <code>Kh2sQh10hJh</code>
        </td>
        <td>
          <code>4SF</code>
        </td>
      </tr>
      <tr>
        <td>50</td>
        <td>
          <code>4h5h2h3h4s</code>
        </td>
        <td>
          <code>4SF</code>
        </td>
      </tr>
      <tr>
        <td>51</td>
        <td>
          <code>Js10sAsQsKs</code>
        </td>
        <td>
          <code>RF</code>
        </td>
      </tr>
      <tr>
        <td>52</td>
        <td>
          <code>10dKdQdAdJd</code>
        </td>
        <td>
          <code>RF</code>
        </td>
      </tr>
    </table>
    <h2>C/C++/Java 用のテストデータ</h2>
    <textarea>/*0*/ test( "Qs9s3dJd10h", "4S" );&#x000A;/*1*/ test( "KdAdJd10dQd", "RF" );&#x000A;/*2*/ test( "QhJhKhAh10h", "RF" );&#x000A;/*3*/ test( "10dAdJsQdKd", "ST" );&#x000A;/*4*/ test( "Kd10dAdJd3d", "FL" );&#x000A;/*5*/ test( "4d3d2dAd5d", "SF" );&#x000A;/*6*/ test( "5d5d2d3dAd", "FL" );&#x000A;/*7*/ test( "4d2sAd5d3d", "ST" );&#x000A;/*8*/ test( "As10dJdQdKd", "ST" );&#x000A;/*9*/ test( "10d10dQdAsJd", "4F" );&#x000A;/*10*/ test( "AcJd10dQdKd", "ST" );&#x000A;/*11*/ test( "Kd2sJdAdQd", "4SF" );&#x000A;/*12*/ test( "JdAdQcKd2s", "4S" );&#x000A;/*13*/ test( "KdAdKdJd2s", "4F" );&#x000A;/*14*/ test( "As2dKdQdJd", "4F" );&#x000A;/*15*/ test( "AsKdQd2dJh", "4S" );&#x000A;/*16*/ test( "QhAd2s3dKd", "-" );&#x000A;/*17*/ test( "Ad4dKh3s2d", "4S" );&#x000A;/*18*/ test( "3d2dAh5d4s", "ST" );&#x000A;/*19*/ test( "QcKdAs2dJd", "4S" );&#x000A;/*20*/ test( "2dQcJdAs10d", "-" );&#x000A;/*21*/ test( "4d7d5s3c2d", "4S" );&#x000A;/*22*/ test( "7d5s4dAd3c", "-" );&#x000A;/*23*/ test( "3s8s10sQs6s", "FL" );&#x000A;/*24*/ test( "6hAh3h2h8h", "FL" );&#x000A;/*25*/ test( "3h4hJh9hQh", "FL" );&#x000A;/*26*/ test( "3s6s5s2sQs", "FL" );&#x000A;/*27*/ test( "9d3cKdQc2c", "-" );&#x000A;/*28*/ test( "5sKs7hQcKh", "-" );&#x000A;/*29*/ test( "Ad6d7h7c9h", "-" );&#x000A;/*30*/ test( "10h4cAh6s10c", "-" );&#x000A;/*31*/ test( "9sKsJcQs10d", "ST" );&#x000A;/*32*/ test( "5d3c2cAs4c", "ST" );&#x000A;/*33*/ test( "KcQs9c10sJs", "ST" );&#x000A;/*34*/ test( "9d8s10hJdQd", "ST" );&#x000A;/*35*/ test( "6c5s10h7d4c", "4S" );&#x000A;/*36*/ test( "QhJcKsAh8c", "4S" );&#x000A;/*37*/ test( "JsQc3h10cKs", "4S" );&#x000A;/*38*/ test( "10c9h7hAd8d", "4S" );&#x000A;/*39*/ test( "3d4dKd8d5c", "4F" );&#x000A;/*40*/ test( "10h3hQh9h2s", "4F" );&#x000A;/*41*/ test( "Qh5h7h9h6c", "4F" );&#x000A;/*42*/ test( "6s8s7s3sKc", "4F" );&#x000A;/*43*/ test( "10h8h9hJhQh", "SF" );&#x000A;/*44*/ test( "10h9hQhKhJh", "SF" );&#x000A;/*45*/ test( "6d4d7d5d3d", "SF" );&#x000A;/*46*/ test( "6h9h7h5h8h", "SF" );&#x000A;/*47*/ test( "Ac6s4s3s5s", "4SF" );&#x000A;/*48*/ test( "3c9d2c5c4c", "4SF" );&#x000A;/*49*/ test( "Kh2sQh10hJh", "4SF" );&#x000A;/*50*/ test( "4h5h2h3h4s", "4SF" );&#x000A;/*51*/ test( "Js10sAsQsKs", "RF" );&#x000A;/*52*/ test( "10dKdQdAdJd", "RF" );</textarea>
  </body>
</html>
